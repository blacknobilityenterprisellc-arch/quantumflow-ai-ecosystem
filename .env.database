# AETHERIUS-ETERNAL Database Configuration
# Unified Keystone Architecture - v17.0.1
# Neon PostgreSQL & Supabase Integration

# ==============================================
# NEON POSTGRESQL DATABASE (Primary)
# ==============================================
NEON_DATABASE_URL="postgresql://username:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require"

# Neon Connection Details
NEON_HOST="ep-xxx.us-east-2.aws.neon.tech"
NEON_PORT="5432"
NEON_USER="username"
NEON_PASSWORD="password"
NEON_DATABASE="neondb"

# Neon Pool Configuration
NEON_POOL_SIZE="20"
NEON_POOL_TIMEOUT="30"

# ==============================================
# SUPABASE DATABASE (Backup/Analytics)
# ==============================================
SUPABASE_DATABASE_URL="postgresql://postgres.xxx:[password]@aws-0-us-east-1.pooler.supabase.com:5432/postgres"

# Supabase Connection Details
SUPABASE_HOST="aws-0-us-east-1.pooler.supabase.com"
SUPABASE_PORT="5432"
SUPABASE_USER="postgres.xxx"
SUPABASE_PASSWORD="[password]"
SUPABASE_DATABASE="postgres"

# Supabase API Keys
SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Supabase Project Details
SUPABASE_PROJECT_ID="your-project-id"
SUPABASE_PROJECT_URL="https://your-project-id.supabase.co"

# ==============================================
# DATABASE FAILOVER CONFIGURATION
# ==============================================
DATABASE_URL="${NEON_DATABASE_URL}"  # Primary
DATABASE_BACKUP_URL="${SUPABASE_DATABASE_URL}"  # Backup

# Connection Pool Settings
DATABASE_POOL_SIZE="20"
DATABASE_POOL_TIMEOUT="30"
DATABASE_SSL_MODE="require"

# ==============================================
# PRISMA CONFIGURATION
# ==============================================
PRISMA_GENERATE_DATAPROXY="true"
PRISMA_CLIENT_ENGINE_TYPE="library"

# ==============================================
# MIGRATION & SEEDING
# ==============================================
# For development
DATABASE_URL_DEV="postgresql://dev:dev@localhost:5432/unified_keystone_dev"

# For testing
DATABASE_URL_TEST="postgresql://test:test@localhost:5432/unified_keystone_test"

# ==============================================
# BACKUP CONFIGURATION
# ==============================================
NEON_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
SUPABASE_BACKUP_SCHEDULE="0 3 * * *"  # Daily at 3 AM
BACKUP_RETENTION_DAYS="30"

# ==============================================
# MONITORING & ANALYTICS
# ==============================================
DATABASE_METRICS_ENABLED="true"
DATABASE_PERFORMANCE_LOGGING="true"
DATABASE_QUERY_ANALYTICS="true"

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
DATABASE_ENCRYPTION_KEY="your-encryption-key"
DATABASE_CONNECTION_TIMEOUT="30"
DATABASE_STATEMENT_TIMEOUT="60000"

# ==============================================
# AI MODEL DATABASE CONFIGURATION
# ==============================================
AI_MODEL_CACHE_ENABLED="true"
AI_MODEL_PERFORMANCE_TRACKING="true"
AI_CONVERSATION_RETENTION_DAYS="365"

# ==============================================
# ENVIRONMENT SPECIFIC SETTINGS
# ==============================================
NODE_ENV="production"
NEXT_PUBLIC_DATABASE_PROVIDER="neon"
NEXT_PUBLIC_BACKUP_PROVIDER="supabase"